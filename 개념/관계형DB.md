> # 관계형 DB

>> ## 3정규화
![alt 정규화](../images/%EC%A0%95%EA%B7%9C%ED%99%94.png)

- 정규화가 된 결과를 정규형이라고 함
- 정규화는 단계적으로 진행되어야 함

>> 비정규화
- 처음에는 모든 데이터가 하나에 테이블에 담겨있음

>>> 주문 테이블 <br>

주문번호|날짜|이름|나이|주문 상품
---|---|---|---|---
P001|10/23|철수|13|A001 레고 1개, A002 미니카 2개
P002|08/13|영희|15|A003 레고 1개, A001 레고 2개
P003|09/07|훈이|12|A003 인형 2개, A002 미니카 1개

- 위와 같은 상태에서 데이터를 수정하고 삭제할 때 문제가 생길 수 있음

- 예를 들어 P001주문에서 주문 상품을 레고 2개로 변경하려면 주문 상품의 데이터 값에서 '레고'를 찾아서 그 뒤의 숫자 부분을 찾아서 1을 2로 바꾼다면 너무 비효율적임

- 이렇게 한 줄에 여러 데이터가 있는 것을 다가 속성이라고 함

>>제 1 정규화
- 엑셀 하나의 칸에는 하나의 값만 들어가도록 만들어줌 이게 1정규화

주문번호|날짜|이름|나이|주문 상품
---|---|---|---|---
P001|10/23|철수|13|A001 레고 1개
P001|10/23|철수|13|A002 미니카 2개
P002|08/13|영희|15|A003 인형 1개
P002|08/13|영희|15|A001 레고 2개
P003|09/07|훈이|12|A003 인형 2개
P003|09/07|훈이|12|A002 미니카 1개

- 이번에는 주문 상품 컬럼에 속성이 여러개 들어 있음
이를 복합 속성이라고 함

- 주문 상품 컬럼을 또 분리

주문번호|날짜|이름|나이|상품번호|상품명|상품수량
---|---|---|---|---|---|---
P001|10/23|철수|13|A001|레고|1개
P001|10/23|철수|13|A002|미니카|2개
P002|08/13|영희|15|A003|인형|1개
P002|08/13|영희|15|A001|레고|2개
P003|09/07|훈이|12|A003|인형|2개
P003|09/07|훈이|12|A002|미니카|1개

- 이렇게 하니 주문번호부터 나이까지 같은 데이터가 2줄씩 들어가 있음 
- 이런 상황에서는 테이블을 2개로 분리해야함

>>> 주문 테이블

주문번호|날짜|이름|나이
---|---|---|---|
P001|10/23|철수|13
P002|08/13|영희|15
P003|09/07|훈이|12

>>> 주문_상품 테이블

주문번호|상품번호|상품명|상품수량
---|---|---|---
P001|A001|레고|1개
P001|A002|미니카|2개
P002|A003|인형|1개
P002|A001|레고|2개
P003|A003|인형|2개
P003|A002|미니카|1개